{
  "widget_class": "Digital%20Value%20-%20Leds",
  "widget_subclass": "190",
  "w_x": "`%XPOS%`",
  "w_y": "`%XPOS%`",
  "station": "",
  "io_id": "`%IO_ID%`",
  "code": "<script>\n\t\n//=================================================================================\n//=============================    WIDGET: led   ==================================\n//=================================================================================\nfunction led(holder,url,val_source,params) {\n\t//primeste date in forma value|um|error=0,1\n\tvar p={\n\t\t\"holder\" : holder,\n\t\t\"url\" : val_source\t\t\n\t};\n\t\n\tjQuery.extend(p,params);\n\t\n\tvar ledul = Raphael(p.holder, p.width, p.height);\n\tvar circle=ledul.ellipse(p.width/2, p.height/2, p.light_width/2, p.light_height/2);\n\tcircle.attr(\"stroke-width\",0);\n\tcircle.attr(\"fill\", \"r(0.4, 0.4)\"+get_gradient_color(p.color_on));\t\n\n\tvar val_update=function(data){\n\t\t\tdata=data.split('|');\t\t\t\n\t\t\t\t//alertStatus[pos]=false;\n\t\t\t\tif (data[0]==0) {\n\t\t\t\t\t//off\n\t\t\t\t\tcircle.attr(\"fill\", \"r(0.4, 0.4)\"+get_gradient_color(p.color_off));\n\t\t\t\t} else if(data[0] == 1){\n\t\t\t\t\t// error \n\t\t\t\t\tcircle.attr(\"fill\", \"r(0.4, 0.4)\"+get_gradient_color(p.color_on));\t\t\t\t\n\t\t\t\t}else {\n\t\t\t\t\t// error for anything else\n\t\t\t\t\tcircle.attr(\"fill\", \"r(0.4, 0.4)\"+get_gradient_color(p.color_err));\n\t\t\t\t}\n\t}\n\t\n\tattachLiveUpdater(val_source, function(data){\n\t\tval_update(data);\n\t});\n\t\n};\t\n\t\n</script>\n<div style=\"/**main_holder**/padding:5px;font-size:20px; font-family:Arial; color: white\">Fan Split Active <span id=\"holder_1461788196561\" style=\"text-align:center; display:inline-block;vertical-align:middle;\"></span>    \n</div>\n<script language=\"javascript\" type=\"text/javascript\">\n  var server='get_value';\n  var io_id=`%IO_ID%`;\n\tvar val_source=io_id;\n\tvar widget_help={\n\t\t\"main_help\":{\n\t\t\t\"en\":\"Display a digital input's value.\",\n\t\t\t\"ro\":\"Afișează valoarea unei intrări digitale.\"\n\t\t},\n\t\t\"OnColor\":{\n\t\t\t\"en\":\"The color of the LED when the input's value is 1. The colour's name should be written here!\",\n\t\t\t\"ro\":\"Culoarea LED-ului când intrarea este pe 1.  Scrieti aici numele culorii!\",\n\t\t\t\"width\":\"60px\"\n\t\t},\n\t\t\"OffColor\":{\n\t\t\t\"en\":\"The color of the LED when the input's value is 0. The colour's name should be written here!\",\n\t\t\t\"ro\":\"Culoarea LED-ului când intrarea este pe 1.  Scrieti aici numele culorii!\",\n\t\t\t\"width\":\"60px\"\n\t\t},\n\t\t\"ErrColor\":{\n\t\t\t\"en\":\"The color of the LED when there's an error. The colour's name should be written here!\",\n\t\t\t\"ro\":\"Culoarea LED-ului când apare o eroare. Scrieti aici numele culorii!\",\n\t\t\t\"width\":\"60px\"\n\t\t},\n\t\t\"LEDHeight\":{\n\t\t\t\"en\":\"The LED's height, measured in pixels.\",\n\t\t\t\"ro\":\"Înălțimea LED-ului, măsurată în pixeli.\",\n\t\t\t\"width\":\"30px\"\n\t\t},\n\t\t\"LEDWidth\":{\n\t\t\t\"en\":\"The LED's width, measured in pixels.\",\n\t\t\t\"ro\":\"Lățimea LED-ului, măsurată în pixeli.\",\n\t\t\t\"width\":\"30px\"\n\t\t}\n\t};\n\n\tvar editable_params={\n\t\t\"OnColor\":\"green\",\t\n\t\t\"OffColor\":\"grey\",\n\t\t\"ErrColor\":\"red\",\t\t\n\t\t\"LEDHeight\":25,\n\t\t\"LEDWidth\":25\n\t};\n  var params={\n    \"color_on\":\"green\",\n\t\t\"color_off\":\"grey\",\n    \"color_err\":\"red\",\n    \"width\":25,\n    \"height\":25,\n    \"light_width\":25,\n    \"light_height\":25};\n\tparams.color_on=editable_params.OnColor;\n\tparams.color_off=editable_params.OffColor;\n\tparams.color_err=editable_params.ErrColor;\n\tparams.width=editable_params.LEDWidth;\n\tparams.height=editable_params.LEDHeight;\n\tparams.light_width=Math.round((editable_params.LEDWidth * 18) / 18);\n\tparams.light_height=Math.round((editable_params.LEDHeight * 18) / 18);\n\tnew led('holder_1461788196561', server, val_source, params);\n</script>"
}